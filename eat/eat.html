
<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script src="calendar.js" type="text/javascript" language="javascript"></script>
	<script src="jquery.js"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<title>PaPaGo</title>
	<link rel="stylesheet" type="text/css" href="calendar.css">
	<link rel="stylesheet" href="main_4.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
	<style>
			body{
				background:#333 url(bg.jpg) repeat top left;
				font-family:Arial;
			}
			span.reference{
				position:fixed;
				left:10px;
				bottom:10px;
				font-size:12px;
			}
			span.reference a{
				color:#aaa;
				text-transform:uppercase;
				text-decoration:none;
				text-shadow:1px 1px 1px #000;
				margin-right:30px;
			}
			span.reference a:hover{
				color:#ddd;
			}
			ul.sdt_menu{
				margin-top:150px;
			}
					
		</style>
</head>
<body>
		<header class="container">
    <div class="row">
      <h1 class="col-sm-4">作伙來飽餐一頓</h1>     
    </div>
  	</header>  

	
	 <section class="jumbotron">
	    <div class="container">
	      <div class="row text-center">
	        <h2>各式美食</h2>
	      	<h3>吃飽喝足才能用力玩</h3>
	        
	      </div>
	    </div>
  	</section>
<!--
	<div id="result" class="container">
	   <div class="span7 offset2">       
	     <table id="JSON_table" class="table table-striped">
	     </table>
	   </div>
	</div>
-->	
	<section class="container">
	<div class="row">
	<form id="message_form" method="POST">		
			<figure class="col-sm-3">
			<div class="checkbox">
			  <label>
			    <input type="checkbox" name="location" value="" id="0_play" style="display:none">
			    <p id="0" class="p1">   </p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="1_play" style="display:none">
			    <p id="1" class="p1">   </p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="2_play" style="display:none">
			    <p id="2" class="p1">   </p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="3_play" style="display:none">
			    <p id="3" class="p1">   </p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="4_play" style="display:none">
			    <p id="4" class="p1">   </p>
			  </label>
			</div>  			
			</figure>

			<figure class="col-sm-3">  
			<div class="checkbox">
			  <label>
			    <input type="checkbox" name="location" value="" id="5_play" style="display:none">
			    <p id="5" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="6_play" style="display:none">
			    <p id="6" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="7_play" style="display:none">
			    <p id="7" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">
			  <label>
			    <input type="checkbox" name="location" value="" id="8_play" style="display:none">
			    <p id="8" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">
			  <label>
			    <input type="checkbox" name="location" value="" id="9_play" style="display:none">
			    <p id="9" class="p1"></p>
			  </label>
			</div>			
			</figure>

			<figure class="col-sm-3">  
			<div class="checkbox"> 
			  <label>
			    <input type="checkbox" name="location" value="" id="10_play" style="display:none">
			    <p id="10" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="11_play" style="display:none">
			    <p id="11" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="12_play" style="display:none">
			    <p id="12" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="13_play" style="display:none">
			    <p id="13" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="14_play" style="display:none">
			    <p id="14" class="p1"></p>
			  </label>
			</div>  			
			</figure>

			<figure class="col-sm-3">
			<div class="checkbox">
			  <label>
			    <input type="checkbox" name="location" value="" id="15_play" style="display:none">
			    <p id="15" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="16_play" style="display:none">
			    <p id="16" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="17_play" style="display:none">
			    <p id="17" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="18_play" style="display:none">
			    <p id="18" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="19_play" style="display:none">
			    <p id="19" class="p1"></p>
			  </label>
			</div>

			<div class="checkbox">  
			  <label>
			    <input type="checkbox" name="location" value="" id="20_play" style="display:none">
			    <p id="20" class="p1"></p>
			  </label>
			</div>  
			</figure>  
	</form>		
	</div>
	</section>

	<div class="container">
		<div class="row">
			<div class="col-sm-3 col-md-offset-4">				
				<a type="button" name="ok" id="ok" value="確定" class="btn btn-primary" onclick="eat()">確定</a>
				<!-- href='../index.html' -->
			</div>				
		</div>
	</div>

<!--模擬結果-->
<!--
<script src="js/jquery.min.js"></script>  
<script type="text/javascript">
  	//假設傳入的JSON內容如下：
JData = [{ name: "文章牛肉" add:},
         { name: "阿霞飯店"},
         { name: "六千牛肉"},
         { name: "香香小吃"},
         { name: "無名米糕"},
         { name: "蛋蛋豪"},
         { name: "黑記魚湯"},
         { name: "花梅蘭"},
         { name: "小卷米粉"},
         { name: "國榮肉燥飯"},
         { name: "阿憨鹹粥"},
         { name: "倫敦派"},
         { name: "大肥鴨"},]

var i = 0;
$.each(JData, function() { 
  $("#"+i.toString()+"_play").attr("value",JData[i].name);
  $("#"+i.toString()+"_play").attr("style","display:block");
  document.getElementById(i.toString()).innerHTML=JData[i].name;       
  i++;
});
</script>
-->
<!--最終接收-->	
	<script src="js/jquery.min.js"></script>  
	<script type="text/javascript">
	        //function eat(){
			//alert("here");
			var JData;
	           var $employees = $("#employees");
	             $.ajax({
				  type: 'POST',
	              url: "../restaurant.php",//取得資料的頁面網址
	              contentType:"json", //傳回的資料格式
	              //ajax 成功後要執行的函式
	              success:function(data){ 	
					  //alert(data);
					  JData = eval(data);
					  var i = 0;
					  //alert(JData[0].name);
	                  $.each(JData, function() { 
						$("#"+i.toString()+"_play").attr("value",JData[i].name);
						$("#"+i.toString()+"_play").attr("style","display:block");
						document.getElementById(i.toString()).innerHTML=JData[i].name;       
						i++;
					});
	              }
	               
	             })
	            
	        //}	
			
		//test 
		var btn=document.getElementById("ok");
	    btn.onclick=function(){
	      var obj=document.getElementsByName("location");
	      var selected=[];
	      for (var i=0; i<obj.length; i++) {
	        if (obj[i].checked) {
	          selected.push(obj[i].value);
	          }
	        }
	      
	      //alert("您想去的地方是 : " + selected.join());
	      //selected=JSON.stringify(selected);
	      //alert(selected);
	
	      $.ajax({
				    type: 'POST',
				    url: "../addDest.php",
				    //data: JSON.stringify(selected),
					data:{name: selected},
				    //contentType: 'application/json; charset=UTF-8',
				    dataType: 'json',
				    success: function(data) { 
						alert(data.name);
				    },
				    error: function(xhr, type) {
						alert("here");
				    }
				});
	      };
	</script>


</body>
</html>